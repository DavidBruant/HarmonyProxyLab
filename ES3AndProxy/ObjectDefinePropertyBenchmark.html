<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <script>
        "use strict";
        var native = {
            Object: {
                defineProperty : Object.defineProperty
            }
        };
    </script>

    <script src="../../benchmark.js/benchmark.js"></script>
    <script type="text/javascript" src="ES5ObjectModelEmul.js"> </script>

    <script>
        (function(){
            "use strict";
            var nativeObjectDefineProperty = native.Object.defineProperty;
            var emulatedObjectDefineProperty = Object.defineProperty;

            var o1 = {};
            var o2 = new Object();

            var PROP_NAME = 'azerty';
            var i = 0;

            var desc = {
                value: 37,
                enumerable: true,
                configurable: true,
                writable: true
            };

            var suite = new Benchmark.Suite();

            suite.add('nativeObjDefProp', function() {
                nativeObjectDefineProperty(o1, PROP_NAME, desc);
            })
            .add('emulatedObjectDefineProperty', function() {
                emulatedObjectDefineProperty(o2, PROP_NAME, desc);
            })
            .on('cycle', function(){
                // console.log('cycle');
                i = 0;
            })
            .on('complete', function() {
                console.log('Results');
                this.forEach(function(res){
                    console.log(res.name, res.count);
                });
            })
            .run()

        })();
    </script>


    <title> Object.defineProperty Benchmark </title>

</head>

<body>
</html>
